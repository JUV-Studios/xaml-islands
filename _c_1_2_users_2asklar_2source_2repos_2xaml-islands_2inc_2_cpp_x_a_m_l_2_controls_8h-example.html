<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CppXAML: C:/Users/asklar/source/repos/xaml-islands/inc/CppXAML/Controls.h</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CppXAML
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle"><div class="title">C:/Users/asklar/source/repos/xaml-islands/inc/CppXAML/Controls.h</div></div>
</div><!--header-->
<div class="contents">
<p >Creates a <code>Grid</code> with the specified rows, columns, and children. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gr</td><td>The set of grid row definitions. This will be either an initializer list where each element is a height (a double, or the strings "Auto", or "N*" where N is an integer), or a string with the corresponding format. </td></tr>
    <tr><td class="paramname">gc</td><td>The set of grid column definitions, with the same rules and syntax as the row definitions. </td></tr>
    <tr><td class="paramname">elems</td><td>A list of entries where each entry is a <code>{rowNumber, columnNumber, myUIElement}</code></td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="keyword">auto</span> grid = cppxaml::Grid({<span class="stringliteral">&quot;40, *&quot;</span>}, {<span class="stringliteral">&quot;Auto, Auto&quot;</span>}, {</div>
<div class="line">     {0, 0, cppxaml::TextBlock(L<span class="stringliteral">&quot;first&quot;</span>) },</div>
<div class="line">     {0, 1, cppxaml::TextBlock(L<span class="stringliteral">&quot;second&quot;</span>) },</div>
<div class="line">     {1, 0, cppxaml::TextBlock(L<span class="stringliteral">&quot;third&quot;</span>) },</div>
<div class="line">     {1, 1, cppxaml::TextBlock(L<span class="stringliteral">&quot;fourth&quot;</span>) },</div>
<div class="line">     }),</div>
</div><!-- fragment --> <dl class="section return"><dt>Returns</dt><dd></dd></dl>
<div class="fragment"><div class="line"><span class="preprocessor">#pragma once</span></div>
<div class="line"><span class="preprocessor">#include &lt;winrt/windows.ui.xaml.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;winrt/windows.ui.xaml.media.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;winrt/windows.UI.Xaml.Controls.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;winrt/Windows.UI.Xaml.Interop.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;winrt/Windows.UI.Xaml.Markup.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;type_traits&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;ShObjIdl_core.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#ifdef USE_WINUI3</span></div>
<div class="line"><span class="preprocessor">#include &lt;microsoft.ui.xaml.window.h&gt;</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span><a class="code hl_namespace" href="namespacecppxaml.html">cppxaml</a> {</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#ifdef USE_WINUI3</span></div>
<div class="line">    <span class="keyword">namespace </span>xaml = winrt::Microsoft::UI::Xaml;</div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line">    <span class="keyword">namespace </span>xaml = winrt::Windows::UI::Xaml;</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"> </div>
<div class="line">    <span class="keyword">namespace </span>utils {</div>
<div class="line">        <span class="keyword">auto</span> tolower(std::wstring_view sv) {</div>
<div class="line">            std::wstring copy(sv);</div>
<div class="line">            std::transform(copy.begin(), copy.end(), copy.begin(), [](<span class="keywordtype">wchar_t</span> x) { return (wchar_t)::tolower(x); });</div>
<div class="line">            <span class="keywordflow">return</span> copy;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T = cppxaml::xaml::DependencyObject&gt;</div>
<div class="line">    T <a id="a0" name="a0"></a><a class="code hl_function" href="namespacecppxaml.html#a0f5c28d135987dff385c3b35f3cbf7f3">FindChildByName</a>(cppxaml::xaml::DependencyObject d, std::wstring_view name) {</div>
<div class="line">        <span class="keywordflow">if</span> (<span class="keyword">auto</span> fe = d.try_as&lt;cppxaml::xaml::FrameworkElement&gt;()) {</div>
<div class="line">            <span class="keywordflow">if</span> (fe.Name() == name) <span class="keywordflow">return</span> d.as&lt;T&gt;();</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; cppxaml::xaml::Media::VisualTreeHelper::GetChildrenCount(d); i++) {</div>
<div class="line">            <span class="keyword">auto</span> r = FindChildByName&lt;T&gt;(cppxaml::xaml::Media::VisualTreeHelper::GetChild(d, i), name);</div>
<div class="line">            <span class="keywordflow">if</span> (r) <span class="keywordflow">return</span> r.as&lt;T&gt;();</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">namespace </span>details {</div>
<div class="line">        <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line">        <span class="keyword">struct </span>WrapperT {</div>
<div class="line">            T m_value{ <span class="keyword">nullptr</span> };</div>
<div class="line"> </div>
<div class="line">            WrapperT(<span class="keyword">const</span> T&amp; v = T()) : m_value(v) {}</div>
<div class="line"> </div>
<div class="line">            T operator*()<span class="keyword"> const </span>{</div>
<div class="line">                <span class="keywordflow">return</span> m_value;</div>
<div class="line">            }</div>
<div class="line">            <span class="keyword">const</span> T* operator-&gt;()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> &amp;m_value; }</div>
<div class="line">            <span class="keyword">auto</span> Name()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_value.Name(); }</div>
<div class="line">            <span class="keyword">auto</span> Name(std::wstring_view n)<span class="keyword"> const </span>{ m_value.Name(n); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }</div>
<div class="line"> </div>
<div class="line">            <span class="keyword">auto</span> Margin()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_value.Margin(); }</div>
<div class="line">            <span class="keyword">auto</span> Margin(cppxaml::xaml::Thickness t)<span class="keyword"> const </span>{ m_value.Margin(t); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }</div>
<div class="line">            <span class="keyword">auto</span> Margin(<span class="keywordtype">double</span> m)<span class="keyword"> const </span>{ m_value.Margin(cppxaml::xaml::ThicknessHelper::FromUniformLength(m)); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }</div>
<div class="line">            <span class="keyword">auto</span> Margin(<span class="keywordtype">double</span> l, <span class="keywordtype">double</span> t, <span class="keywordtype">double</span> r, <span class="keywordtype">double</span> b)<span class="keyword"> const </span>{</div>
<div class="line">                m_value.Margin(cppxaml::xaml::ThicknessHelper::FromLengths(l, t, r, b)); <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            <span class="keyword">auto</span> Padding()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_value.Padding(); }</div>
<div class="line">            <span class="keyword">auto</span> Padding(cppxaml::xaml::Thickness t)<span class="keyword"> const </span>{ m_value.Padding(t); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }</div>
<div class="line">            <span class="keyword">auto</span> Padding(<span class="keywordtype">double</span> m)<span class="keyword"> const </span>{ m_value.Padding(cppxaml::xaml::ThicknessHelper::FromUniformLength(m)); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }</div>
<div class="line">            <span class="keyword">auto</span> Padding(<span class="keywordtype">double</span> l, <span class="keywordtype">double</span> t, <span class="keywordtype">double</span> r, <span class="keywordtype">double</span> b)<span class="keyword"> const </span>{</div>
<div class="line">                m_value.Padding(cppxaml::xaml::ThicknessHelper::FromLengths(l, t, r, b)); <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            <span class="keyword">template</span>&lt;<span class="keyword">typename</span> D, std::enable_if_t&lt;std::is_assignable_v&lt;D, T&gt;, <span class="keywordtype">bool</span>&gt; = true&gt;</div>
<div class="line">            <span class="keyword">operator</span> D()<span class="keyword"> const </span>{</div>
<div class="line">                <span class="keywordflow">return</span> m_value;</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">        };</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">typename</span> TItems = <span class="keywordtype">void</span>&gt;</div>
<div class="line">        <span class="keyword">struct </span>Wrapper : WrapperT&lt;T&gt; {};</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">template</span>&lt;&gt;</div>
<div class="line">        <span class="keyword">struct </span>Wrapper&lt;<a class="code hl_namespace" href="namespacecppxaml.html">cppxaml</a>::xaml::Controls::ContentDialog&gt; : WrapperT&lt;cppxaml::xaml::Controls::ContentDialog&gt; {</div>
<div class="line">            <span class="keyword">auto</span> PrimaryButtonText(std::wstring_view t) {</div>
<div class="line">                this-&gt;m_value.as&lt;cppxaml::xaml::Controls::ContentDialog&gt;().PrimaryButtonText(t);</div>
<div class="line">                <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line">            }</div>
<div class="line">        };</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">template</span>&lt;&gt;</div>
<div class="line">        <span class="keyword">struct </span>Wrapper&lt;<a class="code hl_namespace" href="namespacecppxaml.html">cppxaml</a>::xaml::Controls::StackPanel&gt; : WrapperT&lt;cppxaml::xaml::Controls::StackPanel&gt; {</div>
<div class="line">            <span class="keyword">auto</span> Orientation(cppxaml::xaml::Controls::Orientation o) {</div>
<div class="line">                this-&gt;m_value.as&lt;cppxaml::xaml::Controls::StackPanel&gt;().Orientation(o);</div>
<div class="line">                <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line">            }</div>
<div class="line">        };</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">        <span class="keyword">template</span>&lt;<span class="keyword">typename</span> TItems&gt;</div>
<div class="line">        <span class="keyword">struct </span>Wrapper&lt;<a class="code hl_namespace" href="namespacecppxaml.html">cppxaml</a>::xaml::Controls::AutoSuggestBox, TItems&gt; : WrapperT&lt;cppxaml::xaml::Controls::AutoSuggestBox&gt;, std::enable_shared_from_this&lt;Wrapper&lt;cppxaml::xaml::Controls::AutoSuggestBox, TItems&gt;&gt; {</div>
<div class="line">            TItems m_items;</div>
<div class="line"> </div>
<div class="line">            <span class="keywordtype">bool</span> m_caseInsensitive{ <span class="keyword">false</span> };</div>
<div class="line">            Wrapper() = <span class="keyword">delete</span>;</div>
<div class="line">            Wrapper(<span class="keyword">const</span> TItems&amp; items) : m_items(items) {}</div>
<div class="line">            Wrapper(<span class="keyword">const</span> Wrapper&lt;cppxaml::xaml::Controls::AutoSuggestBox, TItems&gt;&amp; other) : m_items(other.m_items) {</div>
<div class="line">                <span class="keywordflow">if</span> (other.m_textChangedToken) {</div>
<div class="line">                    SetEventHandlers(other.m_caseInsensitive);</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">            Wrapper(Wrapper&amp;&amp; other) : m_items(other.m_items),</div>
<div class="line">                m_textChangedToken(std::move(other.m_textChangedToken)),</div>
<div class="line">                m_suggestionChosenToken(std::move(other.m_suggestionChosenToken))</div>
<div class="line">            {</div>
<div class="line">                other.m_textChangedToken = {};</div>
<div class="line">                other.m_suggestionChosenToken = {};</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            ~Wrapper() {</div>
<div class="line">                <span class="comment">// Wrapper objects get destroyed as their only purpose is to facilitate creating the wrapped XAML objects</span></div>
<div class="line">                <span class="comment">// However, wrapper objects set up event handlers (like these AutoSuggest ones). Therefore these event handlers must:</span></div>
<div class="line">                <span class="comment">//      a) not use any state from Wrapper</span></div>
<div class="line">                <span class="comment">//      b) not be de-registered upon Wrapper&#39;s destructor</span></div>
<div class="line">                <span class="comment">//      c) be idempotent (as more than one event handler will likely run, as Wrappers can get copy-constructed/move constructed around).</span></div>
<div class="line"> </div>
<div class="line">                <span class="comment">//if (m_textChangedToken) {</span></div>
<div class="line">                <span class="comment">//    m_value.TextChanged(m_textChangedToken);</span></div>
<div class="line">                <span class="comment">//}</span></div>
<div class="line">                <span class="comment">//if (m_suggestionChosenToken) {</span></div>
<div class="line">                <span class="comment">//    m_value.SuggestionChosen(m_suggestionChosenToken);</span></div>
<div class="line">                <span class="comment">//}</span></div>
<div class="line">            }</div>
<div class="line">        <span class="keyword">private</span>:</div>
<div class="line">            winrt::event_token m_textChangedToken{};</div>
<div class="line">            winrt::event_token m_suggestionChosenToken{};</div>
<div class="line">            <span class="keywordtype">void</span> SetEventHandlers(<span class="keywordtype">bool</span> caseInsensitive) {</div>
<div class="line">                m_caseInsensitive = caseInsensitive;</div>
<div class="line">                m_textChangedToken = m_value.TextChanged([caseInsensitive, items = this-&gt;m_items](cppxaml::xaml::Controls::AutoSuggestBox sender, cppxaml::xaml::Controls::AutoSuggestBoxTextChangedEventArgs args) {</div>
<div class="line">                    <span class="keywordflow">if</span> (args.Reason() == cppxaml::xaml::Controls::AutoSuggestionBoxTextChangeReason::UserInput) {</div>
<div class="line">                        std::wstring search = caseInsensitive ? utils::tolower(sender.Text()) : sender.Text().c_str();</div>
<div class="line">                        auto vec = TItems();</div>
<div class="line"> </div>
<div class="line">                        for (const auto&amp; entry : items) {</div>
<div class="line">                            auto str = caseInsensitive ? utils::tolower(entry) : entry.c_str();</div>
<div class="line">                            if (search == L<span class="stringliteral">&quot;&quot;</span> || str.find(search) != -1) {</div>
<div class="line">                                vec.push_back(entry);</div>
<div class="line">                            }</div>
<div class="line">                        }</div>
<div class="line">                        <span class="keyword">auto</span> suitableItems = winrt::single_threaded_vector&lt;winrt::Windows::Foundation::IInspectable&gt;();</div>
<div class="line">                        winrt::Windows::Foundation::IInspectable selected{ nullptr };</div>
<div class="line">                        for (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; e : vec) {</div>
<div class="line">                            <span class="keyword">auto</span> boxed = winrt::box_value(e);</div>
<div class="line">                            <span class="keywordflow">if</span> (utils::tolower(e) == search &amp;&amp; search != L<span class="stringliteral">&quot;&quot;</span>) {</div>
<div class="line">                                selected = boxed;</div>
<div class="line">                            }</div>
<div class="line">                            suitableItems.Append(boxed);</div>
<div class="line">                        }</div>
<div class="line">                        sender.ItemsSource(suitableItems);</div>
<div class="line">                        <span class="keywordflow">if</span> (selected) {</div>
<div class="line">                            sender.Text(winrt::unbox_value&lt;winrt::hstring&gt;(selected));</div>
<div class="line">                        }</div>
<div class="line">                    }</div>
<div class="line">                });</div>
<div class="line">                m_suggestionChosenToken = m_value.SuggestionChosen([](cppxaml::xaml::Controls::AutoSuggestBox sender, cppxaml::xaml::Controls::AutoSuggestBoxSuggestionChosenEventArgs args) {</div>
<div class="line">                    sender.Text(winrt::unbox_value&lt;winrt::hstring&gt;(args.SelectedItem()));</div>
<div class="line">                    });</div>
<div class="line"> </div>
<div class="line">            }</div>
<div class="line">        <span class="keyword">public</span>:</div>
<div class="line">            <span class="keyword">auto</span> EnableDefaultSearch(<span class="keywordtype">bool</span> caseInsensitive = <span class="keyword">true</span>) {</div>
<div class="line">                SetEventHandlers(caseInsensitive);</div>
<div class="line">                <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line">            }</div>
<div class="line">        };</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">template</span>&lt;<span class="keyword">typename</span> TItems&gt;</div>
<div class="line">        <span class="keyword">struct </span>Wrapper&lt;<a class="code hl_namespace" href="namespacecppxaml.html">cppxaml</a>::xaml::Controls::ItemsControl, TItems&gt; : WrapperT&lt;cppxaml::xaml::Controls::ItemsControl&gt; {</div>
<div class="line">            <span class="keyword">using</span> items_t = TItems;</div>
<div class="line"> </div>
<div class="line">        };</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">struct </span>GridLength2 {</div>
<div class="line">            <span class="keyword">operator</span> cppxaml::xaml::GridLength()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_length; }</div>
<div class="line">            GridLength2(<span class="keywordtype">double</span> len) : m_length(cppxaml::xaml::GridLengthHelper::FromPixels(len)) {}</div>
<div class="line">            GridLength2(std::wstring_view v) {</div>
<div class="line">                m_length = winrt::unbox_value&lt;cppxaml::xaml::GridLength&gt;(cppxaml::xaml::Markup::XamlBindingHelper::ConvertValue(winrt::xaml_typename&lt;cppxaml::xaml::GridLength&gt;(), winrt::box_value(v)));</div>
<div class="line">            }</div>
<div class="line">            GridLength2(std::string_view v) : GridLength2(winrt::to_hstring(v)) {}</div>
<div class="line">        <span class="keyword">private</span>:</div>
<div class="line">            cppxaml::xaml::GridLength m_length;</div>
<div class="line">        };</div>
<div class="line">        <span class="keyword">struct </span>GridLengths {</div>
<div class="line">            std::vector&lt;cppxaml::xaml::GridLength&gt; m_lengths;</div>
<div class="line">            GridLengths(std::initializer_list&lt;GridLength2&gt;&amp;&amp; ls) {</div>
<div class="line">                <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; l : ls) {</div>
<div class="line">                    m_lengths.push_back(l);</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">            GridLengths(std::string_view sv) {</div>
<div class="line">                std::string_view last;</div>
<div class="line">                <span class="keywordflow">for</span> (std::string_view::size_type pos = 0; pos &lt; sv.length(); ) {</div>
<div class="line">                    <span class="keyword">auto</span> nextDelimiter = sv.find(<span class="stringliteral">&quot;,&quot;</span>, pos);</div>
<div class="line">                    last = sv.substr(pos, nextDelimiter - pos);</div>
<div class="line">                    <span class="keyword">auto</span> len = winrt::unbox_value&lt;cppxaml::xaml::GridLength&gt;(cppxaml::xaml::Markup::XamlBindingHelper::ConvertValue(winrt::xaml_typename&lt;cppxaml::xaml::GridLength&gt;(), winrt::box_value(winrt::to_hstring(last))));</div>
<div class="line">                    m_lengths.push_back(len);</div>
<div class="line"> </div>
<div class="line">                    <span class="keywordflow">if</span> (nextDelimiter != -1) {</div>
<div class="line">                        pos = nextDelimiter + 1;</div>
<div class="line">                    }</div>
<div class="line">                    <span class="keywordflow">else</span> {</div>
<div class="line">                        <span class="keywordflow">break</span>;</div>
<div class="line">                    }</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">        };</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">using</span> GridRows = GridLengths;</div>
<div class="line">        <span class="keyword">using</span> GridColumns = GridLengths;</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">struct </span>UIElementInGrid {</div>
<div class="line">            <span class="keywordtype">int</span> m_row{};</div>
<div class="line">            <span class="keywordtype">int</span> m_column{};</div>
<div class="line">            cppxaml::xaml::UIElement m_element{ <span class="keyword">nullptr</span> };</div>
<div class="line">        };</div>
<div class="line"> </div>
<div class="line">    } <span class="comment">// namespace details</span></div>
<div class="line"> </div>
<div class="line">    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">typename</span> TItems = <span class="keywordtype">void</span>&gt;</div>
<div class="line">    std::enable_if_t&lt;std::is_assignable_v&lt;cppxaml::xaml::Controls::ContentControl, T&gt;, cppxaml::details::Wrapper&lt;T, TItems&gt;&gt;</div>
<div class="line">        <a class="code hl_function" href="namespacecppxaml.html#ade856230451fe04b4a210f3f9c01b82b">MakeContentControl</a>(winrt::Windows::Foundation::IInspectable i) {</div>
<div class="line">        cppxaml::details::Wrapper&lt;T&gt; t;</div>
<div class="line">        t-&gt;Content(i);</div>
<div class="line">        <span class="keywordflow">return</span> t;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line">    std::enable_if_t&lt;std::is_assignable_v&lt;cppxaml::xaml::Controls::ContentControl, T&gt;, cppxaml::details::Wrapper&lt;T&gt;&gt;</div>
<div class="line">        <a class="code hl_function" href="namespacecppxaml.html#ade856230451fe04b4a210f3f9c01b82b">MakeContentControl</a>(winrt::hstring v) {</div>
<div class="line">        cppxaml::details::Wrapper&lt;T&gt; t;</div>
<div class="line">        t-&gt;Content(winrt::box_value(v));</div>
<div class="line">        <span class="keywordflow">return</span> t;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line">    std::enable_if_t&lt;std::is_assignable_v&lt;cppxaml::xaml::Controls::Panel, T&gt;, cppxaml::details::Wrapper&lt;T&gt;&gt;</div>
<div class="line">        <a class="code hl_function" href="namespacecppxaml.html#a12568a13fd46a3b67c08fb9efcbd1bfa">MakePanel</a>(<span class="keyword">const</span> std::initializer_list&lt;cppxaml::xaml::UIElement&gt;&amp; elems) {</div>
<div class="line">        cppxaml::details::Wrapper&lt;T&gt; panel;</div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keyword">auto</span> e : elems) {</div>
<div class="line">            panel-&gt;Children().Append(e);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">return</span> panel;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> C&gt;</div>
<div class="line">    <span class="keyword">auto</span> <a class="code hl_function" href="namespacecppxaml.html#ada4a05ff953f44f9fc8c2f6880574eb3">ContentDialog</a>(C i) {</div>
<div class="line">        <span class="keywordflow">return</span> MakeContentControl&lt;cppxaml::xaml::Controls::ContentDialog&gt;(i);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">auto</span> <a class="code hl_function" href="namespacecppxaml.html#a4f19238f531dcc396954a81f0dbc75b1">StackPanel</a>(<span class="keyword">const</span> std::initializer_list&lt;cppxaml::xaml::UIElement&gt;&amp; elems) {</div>
<div class="line">        <span class="keywordflow">return</span> MakePanel&lt;cppxaml::xaml::Controls::StackPanel&gt;(elems);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">auto</span> Grid(details::GridRows gr, cppxaml::details::GridColumns gc, <span class="keyword">const</span> std::initializer_list&lt;details::UIElementInGrid&gt;&amp; elems) {</div>
<div class="line">        <span class="keyword">auto</span> grid = cppxaml::details::Wrapper&lt;cppxaml::xaml::Controls::Grid&gt;();</div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; r : gr.m_lengths) {</div>
<div class="line">            <span class="keyword">auto</span> rd = cppxaml::xaml::Controls::RowDefinition();</div>
<div class="line">            rd.Height(r);</div>
<div class="line">            grid-&gt;RowDefinitions().Append(rd);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; c : gc.m_lengths) {</div>
<div class="line">            <span class="keyword">auto</span> cd = cppxaml::xaml::Controls::ColumnDefinition();</div>
<div class="line">            cd.Width(c);</div>
<div class="line">            grid-&gt;ColumnDefinitions().Append(cd);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; e : elems) {</div>
<div class="line">            grid-&gt;Children().Append(e.m_element);</div>
<div class="line">            cppxaml::xaml::Controls::Grid::SetRow(e.m_element.as&lt;cppxaml::xaml::FrameworkElement&gt;(), e.m_row);</div>
<div class="line">            cppxaml::xaml::Controls::Grid::SetColumn(e.m_element.as&lt;cppxaml::xaml::FrameworkElement&gt;(), e.m_column);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">return</span> grid;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">auto</span> TextBox(std::wstring_view text = L<span class="stringliteral">&quot;&quot;</span>) {</div>
<div class="line">        cppxaml::details::Wrapper&lt;cppxaml::xaml::Controls::TextBox&gt; tb;</div>
<div class="line">        tb-&gt;Text(text);</div>
<div class="line">        <span class="keywordflow">return</span> tb;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">typename</span> TItems&gt;</div>
<div class="line">    std::enable_if_t&lt;std::is_assignable_v&lt;cppxaml::xaml::Controls::ItemsControl, T&gt;, cppxaml::details::Wrapper&lt;T, TItems&gt;&gt;</div>
<div class="line">        MakeItemsControl(<span class="keyword">const</span> TItems&amp; <span class="comment">/*std::initializer_list&lt;Windows::Foundation::IInspectable&gt;*/</span> items) {</div>
<div class="line">        cppxaml::details::Wrapper&lt;T, TItems&gt; t(items);</div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; i : items) {</div>
<div class="line">            <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (std::is_assignable_v&lt;winrt::Windows::Foundation::IInspectable, <span class="keyword">decltype</span>(i)&gt;) {</div>
<div class="line">                t-&gt;Items().Append(i);</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span> {</div>
<div class="line">                t-&gt;Items().Append(winrt::box_value(i));</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">return</span> t;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> TItems&gt;</div>
<div class="line">    <span class="keyword">auto</span> AutoSuggestBox(<span class="keyword">const</span> TItems&amp; <span class="comment">/*std::initializer_list&lt;std::wstring_view&gt;*/</span> svs) {</div>
<div class="line">        <span class="keywordflow">return</span> MakeItemsControl&lt;cppxaml::xaml::Controls::AutoSuggestBox, TItems&gt;(svs);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">auto</span> TextBlock(std::wstring_view text) {</div>
<div class="line">        cppxaml::xaml::Controls::TextBlock tb;</div>
<div class="line">        tb.Text(text);</div>
<div class="line">        <span class="keywordflow">return</span> tb;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> C&gt;</div>
<div class="line">    <span class="keyword">auto</span> Button(C c) {</div>
<div class="line">        <span class="keywordflow">return</span> MakeContentControl&lt;cppxaml::xaml::Controls::Button&gt;(c);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> TWindow&gt;</div>
<div class="line">    std::enable_if_t&lt;!std::is_assignable_v&lt;TWindow, cppxaml::XamlWindow*&gt;&gt; InitializeWithWindow(winrt::Windows::Foundation::IInspectable obj, TWindow <span class="comment">/*winrt::Microsoft::UI::Xaml::Window*/</span> w) {</div>
<div class="line"><span class="preprocessor">#ifdef USE_WINUI3</span></div>
<div class="line">        <span class="keywordflow">if</span> (<span class="keyword">auto</span> iww = obj.try_as&lt;IInitializeWithWindow&gt;()) {</div>
<div class="line">            HWND hwnd{};</div>
<div class="line">            w.as&lt;IWindowNative&gt;()-&gt;get_WindowHandle(&amp;hwnd);</div>
<div class="line">            iww-&gt;Initialize(hwnd);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">auto</span> window = w.as&lt;cppxaml::xaml::Window&gt;()) {</div>
<div class="line">            obj.XamlRoot(window.Content().XamlRoot());</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line">        {</div>
<div class="line">            obj.as&lt;winrt::Windows::UI::Xaml::FrameworkElement&gt;().XamlRoot(w.XamlRoot());</div>
<div class="line">        }</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">bool</span> InitializeWithWindow(cppxaml::xaml::FrameworkElement obj, HWND hwnd) {</div>
<div class="line">        <span class="keywordflow">if</span> (<span class="keyword">auto</span> iww = obj.try_as&lt;IInitializeWithWindow&gt;()) {</div>
<div class="line">            iww-&gt;Initialize(hwnd);</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> InitializeWithWindow(cppxaml::xaml::FrameworkElement obj, <span class="keyword">const</span> cppxaml::XamlWindow* xw) {</div>
<div class="line">        <span class="keywordflow">if</span> (!InitializeWithWindow(obj, xw-&gt;hwnd())) {</div>
<div class="line">            obj.XamlRoot(xw-&gt;GetUIElement&lt;cppxaml::xaml::FrameworkElement&gt;().XamlRoot());</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> TUIElement, <span class="keyword">typename</span> TWindow&gt;</div>
<div class="line">    std::enable_if_t&lt;std::is_assignable_v&lt;cppxaml::xaml::UIElement, TUIElement&gt; &amp;&amp;</div>
<div class="line">        !std::is_same_v&lt;TWindow, const cppxaml::XamlWindow*&gt;, <span class="keywordtype">void</span>&gt;</div>
<div class="line">        InitializeWithWindow(cppxaml::details::Wrapper&lt;TUIElement&gt; obj, TWindow <span class="comment">/*winrt::Microsoft::UI::Xaml::Window*/</span> w) {</div>
<div class="line">        <span class="keywordflow">return</span> InitializeWithWindow(*obj, w);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="anamespacecppxaml_html"><div class="ttname"><a href="namespacecppxaml.html">cppxaml</a></div><div class="ttdoc">The main CppXAML namespace.</div></div>
<div class="ttc" id="anamespacecppxaml_html_a0f5c28d135987dff385c3b35f3cbf7f3"><div class="ttname"><a href="namespacecppxaml.html#a0f5c28d135987dff385c3b35f3cbf7f3">cppxaml::FindChildByName</a></div><div class="ttdeci">T FindChildByName(cppxaml::xaml::DependencyObject d, std::wstring_view name)</div><div class="ttdoc">Finds a XAML element by name.</div><div class="ttdef"><b>Definition:</b> Controls.h:42</div></div>
<div class="ttc" id="anamespacecppxaml_html_a12568a13fd46a3b67c08fb9efcbd1bfa"><div class="ttname"><a href="namespacecppxaml.html#a12568a13fd46a3b67c08fb9efcbd1bfa">cppxaml::MakePanel</a></div><div class="ttdeci">std::enable_if_t&lt; std::is_assignable_v&lt; cppxaml::xaml::Controls::Panel, T &gt;, cppxaml::details::Wrapper&lt; T &gt; &gt; MakePanel(const std::initializer_list&lt; cppxaml::xaml::UIElement &gt; &amp;elems)</div><div class="ttdoc">Creates a XAML element of a type that is a subclass of Panel.</div><div class="ttdef"><b>Definition:</b> Controls.h:279</div></div>
<div class="ttc" id="anamespacecppxaml_html_a4f19238f531dcc396954a81f0dbc75b1"><div class="ttname"><a href="namespacecppxaml.html#a4f19238f531dcc396954a81f0dbc75b1">cppxaml::StackPanel</a></div><div class="ttdeci">auto StackPanel(const std::initializer_list&lt; cppxaml::xaml::UIElement &gt; &amp;elems)</div><div class="ttdoc">Creates a StackPanel.</div><div class="ttdef"><b>Definition:</b> Controls.h:303</div></div>
<div class="ttc" id="anamespacecppxaml_html_ada4a05ff953f44f9fc8c2f6880574eb3"><div class="ttname"><a href="namespacecppxaml.html#ada4a05ff953f44f9fc8c2f6880574eb3">cppxaml::ContentDialog</a></div><div class="ttdeci">auto ContentDialog(C i)</div><div class="ttdoc">Creates a ContentDialog</div><div class="ttdef"><b>Definition:</b> Controls.h:294</div></div>
<div class="ttc" id="anamespacecppxaml_html_ade856230451fe04b4a210f3f9c01b82b"><div class="ttname"><a href="namespacecppxaml.html#ade856230451fe04b4a210f3f9c01b82b">cppxaml::MakeContentControl</a></div><div class="ttdeci">std::enable_if_t&lt; std::is_assignable_v&lt; cppxaml::xaml::Controls::ContentControl, T &gt;, cppxaml::details::Wrapper&lt; T, TItems &gt; &gt; MakeContentControl(winrt::Windows::Foundation::IInspectable i)</div><div class="ttdoc">Create a XAML element of a class that derives from ContentControl</div><div class="ttdef"><b>Definition:</b> Controls.h:248</div></div>
</div><!-- fragment --> </div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
